# Documenmtation for registration API

---

## Introduction

This documentation explains how to register a user. The API is based on HTTP.

---

## Request

The request should be sent to [https://devpsu.whmhammer.com/cgi/register.py](https://devpsu.whmhammer.com/cgi/register.py) using **POST** method with the following parameters:

### `username` (REQUIRED)

The username of the account to be create. The username should contain only alphabetical and digital characters. the length of the username should be no longer than 64 characters. Every account has a unique, changable username.

### `salt` (REQUIRED)

The "salt" to be used to hash the password. During regiustration, a 32-digit string containing only alphabetical and digital characters should be randomly generated by the front end as the "salt".

### `password_hash` (REQUIRED)

The 128-digit **hexadecimal digestion** of the **sha512** hash of the concatenation of the "salt" and the raw password.

### `email` (REQUIRED)

The email address of the user. The maximal acceptable length is 64 characters.

### `surname` (OPTIONAL)

The surname of the user. The maximum acceptable leangth is 32 characters.

### `familyname` (OPTIONAL)

The family name of the user. The maximum acceptable length is 32 characters.

---

## Response

The response is always in `text/plain`.

The first line indicates the status of the registration. Here is a list of possible outcomes (case sensitive):

- `Success`

- `Use POST method`

- `Missing parameter`

- `Illegal username`

- `Use 32-digit alnum salt`

- `Use sha512`

- `Illegal email address`

- `True name too long`

- `Unexpected error`

The user information is written to the database only when the responded status is `success`. The user still needs to verify the registration before logging into the account. Read `verify.md` for more information about verification.